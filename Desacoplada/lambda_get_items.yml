AWSTemplateFormatVersion: "2010-09-09"
Description: "Lambda GET-ITEMS usando imagen ECR"

Resources:
  GetItemsLambda:
    Type: AWS::Lambda::Function
    Properties:
      FunctionName: list
      PackageType: Image
      Code:
        ImageUri: !Sub "${AWS::AccountId}.dkr.ecr.${AWS::Region}.amazonaws.com/my-ecr-desacoplado:list"
      Role: !Sub arn:aws:iam::${AWS::AccountId}:role/LabRole
      Timeout: 10
      MemorySize: 128
      Architectures:
        - x86_64
      Environment:
        Variables:
          DYNAMO_TABLE: MiTablaEjemplo

Outputs:
  LambdaName:
    Value: !Ref GetItemsLambda